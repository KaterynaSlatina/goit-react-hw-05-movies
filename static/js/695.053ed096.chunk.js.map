{"version":3,"file":"static/js/695.053ed096.chunk.js","mappings":"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","sources":["components/fetchApi.js","webpack://react-homework-template/./src/components/Search/Search.module.css?06df","components/Search/Search.jsx","components/pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '4a774717439e170e5cef6e4dd20f22c7';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const fetchTrendingMovies = async () => {\n  const { data } = await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n  return data.results;\n};\n\nexport const getMovieId = async movieId => {\n  const { data } = await axios.get(`movie/${movieId}?api_key=${API_KEY}`);\n  return data;\n};\n\nexport const fetchSearchMovies = async query => {\n  const { data } = await axios.get(\n    `search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  return data.results;\n};\n\nexport const fetchCast = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  return data.cast;\n};\n\nexport const fetchReviews = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  return data.results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"btnSearch\":\"Search_btnSearch__phQip\",\"searchMoviesList\":\"Search_searchMoviesList__nr4C2\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams, useLocation, Link } from 'react-router-dom';\nimport { fetchSearchMovies } from 'components/fetchApi';\nimport css from './Search.module.css';\n\nconst Search = ({ submit }) => {\n  const [inputData, setInputData] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const [files, setFiles] = useState([]);\n\n  useEffect(() => {\n    const query = searchParams.get('query');\n    if (query) {\n      fetchSearchMovies(query).then(setFiles);\n      setInputData(localStorage.getItem('searchInputData'));\n    }\n  }, [searchParams]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    submit(inputData);\n    if (inputData.trim() !== '') {\n      setSearchParams({ query: inputData });\n      localStorage.setItem('searchQuery', inputData);\n      localStorage.setItem('searchInputData', inputData);\n    }\n  };\n\n  const handleChangeInput = ({ target: { value } }) => {\n    setInputData(value);\n    localStorage.setItem('searchInputData', value);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit}>\n        <button className={css.btnSearch} type=\"submit\">\n          <span>Search</span>\n        </button>\n\n        <input\n          name=\"inputData\"\n          value={inputData}\n          onChange={handleChangeInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n        />\n      </form>\n      {files.length > 0 && (\n        <ul>\n          {files.map(({ title, id }) => (\n            <li className={css.searchMoviesList} key={id}>\n              <Link to={`/movies/${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n};\nexport default Search;\n","import Search from 'components/Search/Search';\nimport { fetchSearchMovies } from 'components/fetchApi';\nimport React, { useEffect, useState } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\n// import css from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  // const [query, setQuery] = useState('');\n  const [query, setQuery] = useSearchParams();\n\n  const getSearchMovies = async searchQuery => {\n    try {\n      const resp = await fetchSearchMovies(searchQuery);\n      setMovies(resp);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    if (query) {\n      getSearchMovies(query);\n    }\n  }, [query]);\n\n  const submit = query => {\n    setQuery(query);\n  };\n\n  return (\n    <>\n      <Search submit={submit} />\n\n      {movies.map(movie => (\n        <Link\n          // className={css.moviesList}\n          to={`/movies/${movie.id}`}\n          key={movie.id}\n        >\n          {movie.title}\n        </Link>\n      ))}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["API_KEY","axios","fetchTrendingMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","data","_context","prev","next","concat","sent","abrupt","results","stop","apply","arguments","getMovieId","_ref2","_callee2","movieId","_yield$axios$get2","_context2","_x","fetchSearchMovies","_ref3","_callee3","query","_yield$axios$get3","_context3","_x2","fetchCast","_ref4","_callee4","_yield$axios$get4","_context4","cast","_x3","fetchReviews","_ref5","_callee5","_yield$axios$get5","_context5","_x4","submit","_useState","useState","_useState2","_slicedToArray","inputData","setInputData","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","location","useLocation","_useState3","_useState4","files","setFiles","useEffect","get","then","localStorage","getItem","_jsxs","_Fragment","children","onSubmit","e","preventDefault","trim","setItem","_jsx","className","css","type","name","value","onChange","target","autoComplete","autoFocus","placeholder","length","map","title","id","Link","to","state","from","movies","setMovies","setQuery","getSearchMovies","searchQuery","resp","t0","console","error","Search","movie"],"sourceRoot":""}